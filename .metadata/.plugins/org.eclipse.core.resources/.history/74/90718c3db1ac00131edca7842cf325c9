package com.jbentley.spotmapper;

import java.util.List;

import android.app.Activity;
import android.app.ListFragment;
import android.os.Bundle;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.TextView;
import com.jbentley.spotmapper.LocationDataBaseHelper;

public class ListNavFragment extends ListFragment {

	

	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {
		Log.i("LISTFRAG", "hello!");
		// TODO Auto-generated method stub
		View view = inflater.inflate(R.layout.list_nav_frag, container, false);
//		ListFragment.setListAdapter(null);
		ListView listView = (ListView) view.findViewById(android.R.id.list);
		TextView noSavedLocsText = (TextView) view.findViewById(android.R.id.empty);
		
		
		
		
		
		//get all locations to be displayed
		LocationDataBaseHelper locDb = new LocationDataBaseHelper(getActivity());
				List<LocationInfo> locs = locDb.getAllLocs();   
				String displayLocs[] = null;

				//loop thru db to log each entry
				for (LocationInfo locationsaved : locs) {
					displayLocs[] = new String[] {"id: "+locationsaved.getId()+
							" , Location Name: " + locationsaved.getlocName() + 
							" , Location: Latitude " + locationsaved.getlocLatitude() + 
							" , Longitude " + locationsaved.getlocLongitude() +
							" , tagged for geofence: " + locationsaved.gettaggedForGeo();
					}
//					Log.i("FRAG! Location", dispalyLocs);
					
					
				}

				ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity(),
				        android.R.layout.simple_list_item_1, displayLocs);
				    setListAdapter(adapter);
		return view; 
	}
	
	@Override
	public void onAttach(Activity activity) {
		// TODO Auto-generated method stub
		super.onAttach(activity);
	}



}
